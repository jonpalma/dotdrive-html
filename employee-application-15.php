<?php include('header-employee.php'); ?>
<!-- start page title -->
<div class="row">
    <div class="col-12">
        <div class="page-title-box">
            <div class="page-title-right">
                <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item"><a href="javascript: void(0);">Safety</a></li>
                    <li class="breadcrumb-item"><a href="javascript: void(0);">Employees</a></li>
                    <li class="breadcrumb-item active">Application</li>
                </ol>
            </div>
            <h4 class="page-title">Employment Application</h4>
        </div>
    </div>
</div>
<!-- end page title -->

<div class="row">
    <div class="col-12">

        <div class="card">
            <div class="card-body">

                <div class="progress progress-lg mb-4 mt-2">
                    <div class="progress-bar progress-lg bg-info" role="progressbar" style="width: 80%"
                         aria-valuenow="0" aria-valuemin="0" aria-valuemax="60"></div>
                </div>

                <!-- start body content -->

                <form action="employee-application-16.php" class="needs-validation" novalidate>

                    <h4 class="page-title text-center mb-4">IMPORTANT DISCLOSURE<br> REGARDING BACKGROUND REPORTS FROM
                        THE
                        PSP Online Service</h4>

                    <p class="text-justify">In connection with your application for employment with S and R Express Inc (“Prospective
                        Employer”), Prospective Employer, its employees, agents or contractors may obtain one or more
                        reports regarding your driving, and safety inspection history from the Federal Motor Carrier
                        Safety Administration (FMCSA).
                    </p>

                    <p class="text-justify">When the application for employment is submitted in person, if the Prospective Employer uses any
                        information it obtains from FMCSA in a decision to not hire you or to make any other adverse
                        employment decision regarding you, the Prospective Employer will provide you with a copy of the
                        report upon which its decision was based and a written summary of your rights under the Fair
                        Credit Reporting Act before taking any final adverse action. If any final adverse action is
                        taken against you based upon your driving history or safety report, the Prospective Employer
                        will notify you that the action has been taken and that the action was based in part or in whole
                        on this report.
                    </p>

                    <p class="text-justify">
                        When the application for employment is submitted by mail, telephone, computer, or other similar
                        means, if the Prospective Employer uses any information it obtains from FMCSA in a decision to
                        not hire you or to make any other adverse employment decision regarding you, the Prospective
                        Employer must provide you within three business days of taking adverse action oral, written or
                        electronic notification: that adverse action has been taken based in whole or in part on
                        information obtained from FMCSA; the name, address, and the toll free telephone number of FMCSA;
                        that the FMCSA did not make the decision to take the adverse action and is unable to provide you
                        the specific reasons why the adverse action was taken; and that you may, upon providing proper
                        identification, request a free copy of the report and may dispute with the FMCSA the accuracy or
                        completeness of any information or report. If you request a copy of a driver record from the
                        Prospective Employer who procured the report, then, within 3 business days of receiving your
                        request, together with proper identification, the Prospective Employer must send or provide to
                        you a copy of your report and a summary of your rights under the Fair Credit Reporting Act.
                    </p>

                    <p class="text-justify">Neither the Prospective Employer nor the FMCSA contractor supplying the crash and safety
                        information has the capability to correct any safety data that appears to be incorrect. You may
                        challenge the accuracy of the data by submitting a request to https://dataqs.fmcsa.dot.gov. If
                        you challenge crash or inspection information reported by a State, FMCSA cannot change or
                        correct this data. Your request will be forwarded by the DataQs system to the appropriate State
                        for adjudication.
                    </p>

                    <p class="text-justify">Any crash or inspection in which you were involved will display on your PSP report. Since the PSP
                        report does not report, or assign, or imply fault, it will include all Commercial Motor Vehicle
                        (CMV) crashes where you were a driver or co-driver and where those crashes were reported to
                        FMCSA, regardless of fault. Similarly, all inspections, with or without violations, appear on
                        the PSP report. State citations associated with Federal Motor Carrier Safety Regulations (FMCSR)
                        violations that have been adjudicated by a court of law will also appear, and remain, on a PSP
                        report.
                    </p>

                    <p class="text-justify">The Prospective Employer cannot obtain background reports from FMCSA without your
                        authorization.
                    </p>

                    <h4 class="page-title text-center mt-4 mb-4">AUTHORIZATION</h4>

                    <p class="text-justify">If you agree that the Prospective Employer may obtain such background reports, please read the
                        following and sign below:</p>

                    <p class="text-justify">I authorize S and R Express Inc (“Prospective Employer”) to access the FMCSA Pre-Employment
                        Screening Program (PSP) system to seek information regarding my commercial driving safety record
                        and information regarding my safety inspection history. I understand that I am authorizing the
                        release of safety performance information including crash data from the previous five (5) years
                        and inspection history from the previous three (3) years. I understand and acknowledge that this
                        release of information may assist the Prospective Employer to make a determination regarding my
                        suitability as an employee.</p>

                    <p class="text-justify">I further understand that neither the Prospective Employer nor the FMCSA contractor supplying the
                        crash and safety information has the capability to correct any safety data that appears to be
                        incorrect. I understand I may challenge the accuracy of the data by submitting a request to
                        https://dataqs.fmcsa.dot.gov. If I challenge crash or inspection information reported by a
                        State, FMCSA cannot change or correct this data. I understand my request will be forwarded by
                        the DataQs system to the appropriate State for adjudication.</p>

                    <p class="text-justify">I understand that any crash or inspection in which I was involved will display on my PSP report.
                        Since the PSP report does not report, or assign, or imply fault, I acknowledge it will include
                        all CMV crashes where I was a driver or co-driver and where those crashes were reported to
                        FMCSA, regardless of fault. Similarly, I understand all inspections, with or without violations,
                        will appear on my PSP report, and State citations associated with FMCSR violations that have
                        been adjudicated by a court of law will also appear, and remain, on my PSP report.</p>

                    <p class="text-justify">I have read the above Disclosure Regarding Background Reports provided to me by Prospective
                        Employer and I understand that if I sign this Disclosure and Authorization, Prospective Employer
                        may obtain a report of my crash and inspection history. I hereby authorize Prospective Employer
                        and its employees, authorized agents, and/or affiliates to obtain the information authorized
                        above.</p>

                    <div class="row">

                        <div class="form-group col-lg-3 col-md-6">
                            <label>First Name</label>
                            <input type="text" class="form-control" value="Name" disabled>
                        </div>

                        <div class="form-group col-lg-3 col-md-6">
                            <label>Middle Name</label>
                            <input type="text" class="form-control" value="Middle" disabled>
                        </div>

                        <div class="form-group col-lg-3 col-md-6">
                            <label>Last Name</label>
                            <input type="text" class="form-control" value="Last" disabled>
                        </div>

                    </div>

                    <div class="form-group row">
                        <div class="col-md-3 col-6">
                            <label>Date</label>
                        </div>
                        <div class="col-md-3 col-6">
                            <input type="text" class="form-control date" id="date" data-toggle="date-picker"
                                   data-single-date-picker="true" value="<?php echo date('d-m-Y'); ?>"
                                   data-reset-val="false" disabled>
                        </div>
                    </div>

                    <div class="mt-4 mb-2"><i><span style="color: red;">Please use your mouse to sign your name in the rectangle below</span>
                        (by clicking the left mouse button in the rectangle and dragging the mouse while holding
                        the button down). <span style="color: red;">Click Save when finished</span></i>.</div>
                    <div id="signature-pad" class="signature-pad">
                        <div class="signature-pad--body" style="border: 1px solid #7f8c8d">
                            <canvas style="width: 100%; height: 200px"></canvas>
                        </div>
                        <div class="signature-pad--footer">
                            <div class="description">Sign above</div>
                            <div class="signature-pad--actions">

                                <div class="row">

                                    <div class="col-md-3 col-6 offset-lg-3 offset-md-3">
                                        <button type="button" class="btn btn-block btn-danger" data-action="clear">
                                            Clear
                                        </button>
                                    </div>

                                    <div class="col-md-3 col-6">
                                        <button type="submit" class="btn btn-block btn-primary" data-action="clear">
                                            Save
                                        </button>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-4">
                        <p class="col-10 offset-1 text-justify">
                            <i><b>NOTICE:</b> This form is made available to monthly account holders by NIC on behalf of
                                the
                                U.S. Department of Transportation, Federal Motor Carrier Safety Administration (FMCSA).
                                Account holders are required by federal law to obtain an Applicant’s written or
                                electronic
                                consent prior to accessing the Applicant’s PSP report. Further, account holders are
                                required
                                by FMCSA to use the language contained in this Disclosure and Authorization form to
                                obtain
                                an Applicant’s consent. The language must be used in whole, exactly as provided.
                                Further,
                                the language on this form must exist as one stand-alone document. The language may NOT
                                be
                                included with other consent forms or any other language.</i>
                        </p>
                    </div>


                </form>

                <!-- end body content -->

            </div> <!-- end card body-->
        </div> <!-- end card -->

    </div>
    <!-- end col-12 -->
</div> <!-- end row -->
<?php include('footer.php'); ?>
<script src="https://cdn.jsdelivr.net/npm/signature_pad@2.3.2/dist/signature_pad.min.js"></script>
<script>
    var wrapper = document.getElementById("signature-pad");
    var clearButton = wrapper.querySelector("[data-action=clear]");
    var changeColorButton = wrapper.querySelector("[data-action=change-color]");
    var undoButton = wrapper.querySelector("[data-action=undo]");
    var savePNGButton = wrapper.querySelector("[data-action=save-png]");
    var saveJPGButton = wrapper.querySelector("[data-action=save-jpg]");
    var saveSVGButton = wrapper.querySelector("[data-action=save-svg]");
    var canvas = wrapper.querySelector("canvas");
    var signaturePad = new SignaturePad(canvas, {
        // It's Necessary to use an opaque color when saving image as JPEG;
        // this option can be omitted if only saving as PNG or SVG
        backgroundColor: 'rgb(255, 255, 255)'
    });

    // Adjust canvas coordinate space taking into account pixel ratio,
    // to make it look crisp on mobile devices.
    // This also causes canvas to be cleared.
    function resizeCanvas() {
        // When zoomed out to less than 100%, for some very strange reason,
        // some browsers report devicePixelRatio as less than 1
        // and only part of the canvas is cleared then.
        var ratio = Math.max(window.devicePixelRatio || 1, 1);

        // This part causes the canvas to be cleared
        canvas.width = canvas.offsetWidth * ratio;
        canvas.height = canvas.offsetHeight * ratio;
        canvas.getContext("2d").scale(ratio, ratio);

        // This library does not listen for canvas changes, so after the canvas is automatically
        // cleared by the browser, SignaturePad#isEmpty might still return false, even though the
        // canvas looks empty, because the internal data of this library wasn't cleared. To make sure
        // that the state of this library is consistent with visual state of the canvas, you
        // have to clear it manually.
        signaturePad.clear();
    }

    // On mobile devices it might make more sense to listen to orientation change,
    // rather than window resize events.
    window.onresize = resizeCanvas;
    resizeCanvas();

    function download(dataURL, filename) {
        var blob = dataURLToBlob(dataURL);
        var url = window.URL.createObjectURL(blob);

        var a = document.createElement("a");
        a.style = "display: none";
        a.href = url;
        a.download = filename;

        document.body.appendChild(a);
        a.click();

        window.URL.revokeObjectURL(url);
    }

    // One could simply use Canvas#toBlob method instead, but it's just to show
    // that it can be done using result of SignaturePad#toDataURL.
    function dataURLToBlob(dataURL) {
        // Code taken from https://github.com/ebidel/filer.js
        var parts = dataURL.split(';base64,');
        var contentType = parts[0].split(":")[1];
        var raw = window.atob(parts[1]);
        var rawLength = raw.length;
        var uInt8Array = new Uint8Array(rawLength);

        for (var i = 0; i < rawLength; ++i) {
            uInt8Array[i] = raw.charCodeAt(i);
        }

        return new Blob([uInt8Array], {type: contentType});
    }

    clearButton.addEventListener("click", function (event) {
        signaturePad.clear();
    });

    undoButton.addEventListener("click", function (event) {
        var data = signaturePad.toData();

        if (data) {
            data.pop(); // remove the last dot or line
            signaturePad.fromData(data);
        }
    });

    /*changeColorButton.addEventListener("click", function (event) {
        var r = Math.round(Math.random() * 255);
        var g = Math.round(Math.random() * 255);
        var b = Math.round(Math.random() * 255);
        var color = "rgb(" + r + "," + g + "," + b +")";

        signaturePad.penColor = color;
    });*/

    savePNGButton.addEventListener("click", function (event) {
        if (signaturePad.isEmpty()) {
            alert("Please provide a signature first.");
        } else {
            var dataURL = signaturePad.toDataURL();
            download(dataURL, "signature.png");
        }
    });

    saveJPGButton.addEventListener("click", function (event) {
        if (signaturePad.isEmpty()) {
            alert("Please provide a signature first.");
        } else {
            var dataURL = signaturePad.toDataURL("image/jpeg");
            download(dataURL, "signature.jpg");
        }
    });

    saveSVGButton.addEventListener("click", function (event) {
        if (signaturePad.isEmpty()) {
            alert("Please provide a signature first.");
        } else {
            var dataURL = signaturePad.toDataURL('image/svg+xml');
            download(dataURL, "signature.svg");
        }
    });
</script>
